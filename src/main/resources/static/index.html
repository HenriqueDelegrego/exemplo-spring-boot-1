<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Listar Produtos</title>
    <link rel="stylesheet" href="header-style.css">
    <link rel="stylesheet" href="index-style.css">
</head>

<body>

    <header>
        <nav>
            <ul>
                <li><a href="index.html">Listar Produtos</a></li>
                <li><a href="inserir.html">Inserir Produto</a></li>
                <li><a href="atualizar.html">Atualizar Produto</a></li>
                <li><a href="deletar.html">Deletar Produto</a></li>
            </ul>
        </nav>
    </header>

    <h1>Produtos</h1>
    <div class="card-container" id="container"></div>

    <script>

        // Faz uma requisição GET (GET é o método padrão do fetch, por isso não é necessário especificar)
        fetch('http://localhost:8080/produtos')
            .then(response => response.json())
            .then(listaProdutos => {
                const container = document.getElementById('container');

                listaProdutos.forEach(produto => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
            <h3>${produto.nomeProduto}</h3>
            <p>Preço: R$ ${produto.preco}</p>
            <p>ID: ${produto.id}</p>
          `;
                    container.appendChild(card);
                });
            });

    </script>

</body>

</html>